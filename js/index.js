!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=[{id:1,content:[[1],[2],[3],[2]],next:[2,1,3,5,7]},{id:2,content:[[2],[3],[],[4,2]],next:[3,9]},{id:3,content:[[2],[1],[],[1,5]],next:[1,2,3,4,5,6,7,8,9]},{id:4,content:[[5],[3],[4],[2]],next:[6,7,4,8]},{id:5,content:[[2],[1],[3],[1]],next:[4,7]},{id:6,content:[[1],[2],[3,1],[]],next:[7]},{id:7,content:[[3],[3],[1],[]],next:[6,8]},{id:8,content:[[2],[2],[2,4],[2]],next:[8,5,9]},{id:9,content:[[3],[3],[1],[1]],next:[8,5,7,1]}];function s(e="default"){if("default"===e)return r[Math.floor(Math.random()*r.length)];const t=e.next[Math.floor(Math.random()*e.next.length)];let n={};return r.forEach(e=>{e.id===t&&(n=e)}),n}const o=Synth.createInstrument("piano");function i(e,t){o.play(["C","D","F","G","A"][e-1],t,2)}class c{constructor(e=0,t=0,n=null){this.costume=n||new Array(1).fill(null).map(()=>new Array(1).fill(1)),this.x=e,this.y=t}}const l=10,a=5,u=new class{constructor(e=64,t=48,n){this.target=n,this.screen=this.clearScreen(),this.sprites=[],this.width=e,this.height=t}clearScreen(){this.screen=new Array(this.height).fill(null).map(()=>new Array(this.width).fill(0)),console.clear(),this.target.innerHTML=""}render(){this.clearScreen(),this.sprites.forEach(e=>{e.costume.forEach((t,n)=>{e.y+n<this.screen.length&&e.y+n>=0&&t.forEach((t,r)=>{e.x+r<this.screen[0].length&&e.x+r>=0&&(this.screen[e.y+n][e.x+r]=t)})})}),this.target.innerHTML=this.screen.reduce((e,t)=>`${e+t.map(e=>"number"!=typeof e?e:`<span class="color${e}">â–ˆ</span>`).join("")}\n`,"\n"),console.log(this.screen.reduce((e,t)=>`${e+t.join("")}\n`,"\n"))}}(a,l,document.getElementById("terminal"));let p=[];function h(){u.sprites=[];const e=new Array(l).fill(0).map(()=>new Array(a).fill(0));e[4]=["R","E","P","L",0],e[5]=[0,"H","E","R","O"];const t=new c(0,0,e);u.sprites.push(t),u.render()}function f(e=700){let t=s(),n=0,r=[];u.sprites=[],p=[];let o=5,i=0;const d=new c(0,u.height-2,[[7,7,7,7,7]]);u.sprites.push(d);const y=new c(0,u.height-1,[["o","o","o","o","o"]]);u.sprites.push(y);const m=new c(0,0,[["0","0","0","0","0"]]);u.sprites.push(m);const g=window.setInterval(()=>{!1===(0===p.length)?o-=1:i+=1,y.costume[0]=y.costume[0].map((e,t)=>t<o?"o":"x"),m.costume[0]=i.toString(10).padStart(5,"0").split("");const e=t.content[n];3===n?(t=s(t),n=0):n+=1,r.forEach(e=>{const t=e;return t.y+=1,t}),p=r.filter(e=>e.y===u.height-2).map(e=>e.x),e.forEach(e=>{const t=new c(e-1,1,[[e]]);t.type="note",u.sprites.push(t),r.push(t)}),u.sprites=u.sprites.filter(e=>!("note"===e.type&&e.y>l-2)),r=u.sprites.filter(e=>"note"===e.type),u.render(),0===o&&(clearInterval(g),function(e){u.sprites=[];const t=new Array(l).fill(0).map(()=>new Array(a).fill(0));t[0]="GAME ".split(""),t[1]=" OVER".split(""),t[4]="SCORE".split(""),t[5]=e.toString(10).padStart(5,"0").split("");const n=new c(0,0,t);u.sprites.push(n),u.render()}(i),setTimeout(()=>{h(),setTimeout(f,2e3)},2e3))},e)}document.addEventListener("keydown",e=>{parseInt(e.key,10)<6&&parseInt(e.key,10)>0&&(i(parseInt(e.key,10),3),-1===p.indexOf(parseInt(e.key,10)-1)&&p.push("err"),p=p.filter(t=>parseInt(e.key,10)-1!==t))}),h(),setTimeout(f,2e3)}]);